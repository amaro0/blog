<!doctype html><html lang=en-us><head><meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>templ vs html/template performance benchmark | </title><meta name=title content="templ vs html/template performance benchmark"><meta name=description content="Introduction Performance benchmark of native html/template and templ. Source code available at https://github.com/amaro0/templ-benchmark.
TLDR: Templ is way faster.
After discovering how the code generated by Templ is incredibly procedural, I thought, &lsquo;Wow, it must be fast.&rsquo; and yeah it is, at least when you compare it to the native html/template. Benchstat results at the bottom
Methodology This micro benchmark compares native html/template and templ in three simple scenarios.
Simple p tag <div>Hello, {{ ."><meta name=keywords content="go,benchmark,html,benchstat,performance,templating,template,"><meta property="og:title" content="templ vs html/template performance benchmark"><meta property="og:description" content="Introduction Performance benchmark of native html/template and templ. Source code available at https://github.com/amaro0/templ-benchmark.
TLDR: Templ is way faster.
After discovering how the code generated by Templ is incredibly procedural, I thought, &lsquo;Wow, it must be fast.&rsquo; and yeah it is, at least when you compare it to the native html/template. Benchstat results at the bottom
Methodology This micro benchmark compares native html/template and templ in three simple scenarios.
Simple p tag <div>Hello, {{ ."><meta property="og:type" content="article"><meta property="og:url" content="https://amaro0.xyz/go-templ-benchmark/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-11-04T22:01:36+01:00"><meta property="article:modified_time" content="2023-11-04T22:01:36+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="templ vs html/template performance benchmark"><meta name=twitter:description content="Introduction Performance benchmark of native html/template and templ. Source code available at https://github.com/amaro0/templ-benchmark.
TLDR: Templ is way faster.
After discovering how the code generated by Templ is incredibly procedural, I thought, &lsquo;Wow, it must be fast.&rsquo; and yeah it is, at least when you compare it to the native html/template. Benchstat results at the bottom
Methodology This micro benchmark compares native html/template and templ in three simple scenarios.
Simple p tag <div>Hello, {{ ."><meta itemprop=name content="templ vs html/template performance benchmark"><meta itemprop=description content="Introduction Performance benchmark of native html/template and templ. Source code available at https://github.com/amaro0/templ-benchmark.
TLDR: Templ is way faster.
After discovering how the code generated by Templ is incredibly procedural, I thought, &lsquo;Wow, it must be fast.&rsquo; and yeah it is, at least when you compare it to the native html/template. Benchstat results at the bottom
Methodology This micro benchmark compares native html/template and templ in three simple scenarios.
Simple p tag <div>Hello, {{ ."><meta itemprop=datePublished content="2023-11-04T22:01:36+01:00"><meta itemprop=dateModified content="2023-11-04T22:01:36+01:00"><meta itemprop=wordCount content="402"><meta itemprop=keywords content="go,benchmark,html,benchstat,performance,templating,template,"><meta name=referrer content="no-referrer-when-downgrade"><style>body{font-family:Verdana,sans-serif;margin:auto;padding:20px;max-width:720px;text-align:left;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444}h1,h2,h3,h4,h5,h6,strong,b{color:#222}a{color:#3273dc}.title{text-decoration:none;border:0}.title span{font-weight:400}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}pre code{color:#222;display:block;padding:20px;white-space:pre-wrap;font-size:14px}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}footer{padding:25px;text-align:center}.helptext{color:#777;font-size:small}.errorlist{color:#eba613;font-size:small}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#333;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#777}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}.helptext{color:#aaa}}</style></head><body><header><a href=/ class=title><h2></h2></a><nav><a href=/>Home</a>
<a href=/blog>Blog</a></nav></header><main><h1>templ vs html/template performance benchmark</h1><p><i><time datetime=2023-11-04 pubdate>04 Nov, 2023</time></i></p><content><h3 id=introduction>Introduction</h3><p>Performance benchmark of native <a href=https://pkg.go.dev/html/template>html/template</a> and <a href=https://templ.guide/>templ</a>.
Source code available at <a href=https://github.com/amaro0/templ-benchmark>https://github.com/amaro0/templ-benchmark</a>.</p><p><strong>TLDR:</strong> Templ is way faster.</p><p>After discovering how the code generated by Templ is incredibly procedural, I thought, &lsquo;Wow, it must be fast.&rsquo; and yeah
it is, at least when you compare it to the native html/template. Benchstat results at the bottom</p><h3 id=methodology>Methodology</h3><p>This micro benchmark compares native html/template and templ in three simple scenarios.</p><h4 id=simple-p-tag>Simple p tag</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>div</span>&gt;Hello, {{ .Name }}&lt;/<span style=color:#f92672>div</span>&gt;
</span></span></code></pre></div><h4 id=table>Table</h4><p>Table has 1000 rows and is generated before benchmark.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>p</span>&gt;Table: {{ .TableName }}&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>table</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>tr</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>th</span>&gt;Id&lt;/<span style=color:#f92672>th</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>th</span>&gt;Name&lt;/<span style=color:#f92672>th</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>th</span>&gt;Number&lt;/<span style=color:#f92672>th</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>th</span>&gt;Complex&lt;/<span style=color:#f92672>th</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>th</span>&gt;Static&lt;/<span style=color:#f92672>th</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>tr</span>&gt;
</span></span><span style=display:flex><span>    {{ range .Items}}
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>tr</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>td</span>&gt;{{ .Id }}&lt;/<span style=color:#f92672>td</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>td</span>&gt;{{ .Name }}&lt;/<span style=color:#f92672>td</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>td</span>&gt;{{ .Number }}&lt;/<span style=color:#f92672>td</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>td</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>                &lt;<span style=color:#f92672>p</span>&gt;{{ .Id }}&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>                &lt;<span style=color:#f92672>p</span>&gt;{{ .Name }}&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>                &lt;<span style=color:#f92672>p</span>&gt;{{ .Number }}&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>            &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>td</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>td</span>&gt;Static&lt;/<span style=color:#f92672>td</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>tr</span>&gt;
</span></span><span style=display:flex><span>    {{ end}}
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>table</span>&gt;
</span></span></code></pre></div><h4 id=layout-with-table-in-body>Layout with table in body</h4><p>table component is reused from previous test</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!doctype html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>html</span> <span style=color:#a6e22e>lang</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;en&#34;</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>head</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>charset</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;utf-8&#34;</span>/&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;viewport&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;width=device-width, initial-scale=1&#34;</span>/&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>link</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;stylesheet&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css&#34;</span>/&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>title</span>&gt;Hello, world!&lt;/<span style=color:#f92672>title</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>head</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>{{template &#34;table&#34; .}}
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>html</span>&gt;
</span></span></code></pre></div><h3 id=results>Results</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>goos: linux
</span></span><span style=display:flex><span>goarch: amd64
</span></span><span style=display:flex><span>pkg: templ-benchmark
</span></span><span style=display:flex><span>cpu: 11th Gen Intel(R) Core(TM) i7-1165G7 @ 2.80GHz
</span></span><span style=display:flex><span>         │    templ     │                  native                  │
</span></span><span style=display:flex><span>         │    sec/op    │     sec/op      vs base                  │
</span></span><span style=display:flex><span>Hello-8    174.7n ± 48%     971.6n ± 58%   +456.31% (p=0.000 n=10)
</span></span><span style=display:flex><span>Table-8    740.9µ ±  4%   11551.7µ ± 33%  +1459.07% (p=0.000 n=10)
</span></span><span style=display:flex><span>Layout-8   752.2µ ± 11%   11544.0µ ± 31%  +1434.61% (p=0.000 n=10)
</span></span><span style=display:flex><span>geomean    46.00µ           506.0µ        +1000.00%
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>         │    templ     │                native                │
</span></span><span style=display:flex><span>         │     B/op     │     B/op      vs base                │
</span></span><span style=display:flex><span>Hello-8      200.0 ± 0%     368.0 ± 0%  +84.00% (p=0.000 n=10)
</span></span><span style=display:flex><span>Table-8    2.643Mi ± 0%   4.835Mi ± 0%  +82.92% (p=0.000 n=10)
</span></span><span style=display:flex><span>Layout-8   2.643Mi ± 0%   4.830Mi ± 0%  +82.73% (p=0.000 n=10)
</span></span><span style=display:flex><span>geomean    112.7Ki        206.5Ki       +83.22%
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>         │    templ    │                 native                 │
</span></span><span style=display:flex><span>         │  allocs/op  │  allocs/op    vs base                  │
</span></span><span style=display:flex><span>Hello-8     5.000 ± 0%    13.000 ± 0%   +160.00% (p=0.000 n=10)
</span></span><span style=display:flex><span>Table-8    2.018k ± 0%   56.781k ± 0%  +2713.73% (p=0.000 n=10)
</span></span><span style=display:flex><span>Layout-8   2.017k ± 0%   56.780k ± 0%  +2715.07% (p=0.000 n=10)
</span></span><span style=display:flex><span>geomean     273.0         3.474k       +1172.28%
</span></span></code></pre></div><p>Without any surprises, Templ achieves significant victories in all categories. Personally I&rsquo;ve been enjoying writing
code for this benchmark and win definitely use templ in the future projects. Performance aside, templ docs are
extensive, you can use simple types in templates(no need for unnecessary structs) and you are writing go code in
templates. Two things could be improved:
plugin for goland(possibly on the way) and error messages could use some polishing. Overall, I highly recommend using
Templ. It&rsquo;s possibly the best templating engine I&rsquo;ve ever used.</p></content><p><a href=https://amaro0.xyz/blog/go/>#go</a>
<a href=https://amaro0.xyz/blog/benchmark/>#benchmark</a>
<a href=https://amaro0.xyz/blog/html/>#html</a>
<a href=https://amaro0.xyz/blog/benchstat/>#benchstat</a>
<a href=https://amaro0.xyz/blog/performance/>#performance</a>
<a href=https://amaro0.xyz/blog/templating/>#templating</a>
<a href=https://amaro0.xyz/blog/template/>#template</a></p></main><footer>Made with <a href=https://github.com/janraasch/hugo-bearblog/>Hugo ʕ•ᴥ•ʔ Bear</a></footer></body></html>